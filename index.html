<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillsUSA Trivia - Online Leaderboard</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide icons as inline SVG components
        const Award = (props) => (
            <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="8" r="6"></circle>
                <path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"></path>
            </svg>
        );

        const Trophy = (props) => (
            <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                <path d="M4 22h16"></path>
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
            </svg>
        );

        const CheckCircle = (props) => (
            <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        );

        const XCircle = (props) => (
            <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="15" y1="9" x2="9" y2="15"></line>
                <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
        );

        const RotateCcw = (props) => (
            <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="1 4 1 10 7 10"></polyline>
                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
            </svg>
        );

        // Simple localStorage-based storage implementation for standalone version
        const storage = {
            get: (key) => {
                try {
                    const item = localStorage.getItem(key);
                    return item ? { key, value: item } : null;
                } catch (error) {
                    console.error('Storage get error:', error);
                    return null;
                }
            },
            set: (key, value) => {
                try {
                    localStorage.setItem(key, value);
                    return { key, value };
                } catch (error) {
                    console.error('Storage set error:', error);
                    return null;
                }
            },
            list: (prefix) => {
                try {
                    const keys = [];
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        if (key.startsWith(prefix)) {
                            keys.push(key);
                        }
                    }
                    return { keys };
                } catch (error) {
                    console.error('Storage list error:', error);
                    return { keys: [] };
                }
            }
        };

        function SkillsUSATrivia() {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [gameOver, setGameOver] = useState(false);
            const [answeredCorrectly, setAnsweredCorrectly] = useState(false);
            const [showLeaderboard, setShowLeaderboard] = useState(false);
            const [playerName, setPlayerName] = useState('');
            const [showNameInput, setShowNameInput] = useState(false);
            const [leaderboardData, setLeaderboardData] = useState([]);
            const [isLoadingLeaderboard, setIsLoadingLeaderboard] = useState(false);

            const allQuestions = [
                // 17 Essential Elements Questions
                {
                    question: "How many essential elements are in the SkillsUSA Framework?",
                    options: ["12", "15", "17", "20"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which is one of the Personal Skills in the SkillsUSA Framework?",
                    options: ["Computer Skills", "Self-Motivation", "Planning", "Job-Specific Skills"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Integrity is part of which Framework category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Leadership Skills"],
                    correct: 0,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which of these is a Workplace Skills element?",
                    options: ["Self-Esteem", "Teamwork", "Decision-Making", "Responsibility"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Communication is part of which Framework category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Social Skills"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which is NOT one of the Personal Skills?",
                    options: ["Self-Esteem", "Self-Motivation", "Time Management", "Goal-Setting"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "Computer Skills fall under which Framework category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Digital Skills"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which is one of the Personal Skills elements?",
                    options: ["Ethics", "Planning", "Responsibility", "Communication"],
                    correct: 0,
                    category: "17 Essential Elements"
                },
                {
                    question: "Problem-Solving and Critical Thinking is part of which category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Cognitive Skills"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which element focuses on understanding workplace culture?",
                    options: ["Professionalism", "Economics", "Teamwork", "Communication"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Safety, Health and Environmental skills are part of which category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Protective Skills"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "How many Personal Skills are in the Framework?",
                    options: ["4", "5", "6", "7"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "Leadership is part of which Framework category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Management Skills"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which element involves understanding business principles?",
                    options: ["Economics", "Management", "Career Planning", "Professionalism"],
                    correct: 0,
                    category: "17 Essential Elements"
                },
                {
                    question: "Job-Specific Skills fall under which category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Career Skills"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which Personal Skill involves taking ownership of your actions?",
                    options: ["Integrity", "Responsibility", "Self-Motivation", "Ethics"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "How many Workplace Skills are in the Framework?",
                    options: ["5", "6", "7", "8"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which skill involves reading technical manuals and documents?",
                    options: ["Communication", "Computer Skills", "Technical Reading", "Job-Specific Skills"],
                    correct: 2,
                    category: "17 Essential Elements"
                },
                {
                    question: "Career Planning is part of which category?",
                    options: ["Personal Skills", "Workplace Skills", "Technical Skills Grounded in Academics", "Future Skills"],
                    correct: 1,
                    category: "17 Essential Elements"
                },
                {
                    question: "Which element focuses on building positive self-image?",
                    options: ["Self-Esteem", "Self-Motivation", "Integrity", "Responsibility"],
                    correct: 0,
                    category: "17 Essential Elements"
                },

                // Program of Work Questions
                {
                    question: "What does POW stand for in SkillsUSA?",
                    options: ["Program of Work", "Plan of Work", "Professional Organization Work", "Project Outline Work"],
                    correct: 0,
                    category: "Program of Work (POW)"
                },
                {
                    question: "How many Program of Work (POW) areas are there?",
                    options: ["4", "6", "8", "10"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Which is one of the six POW areas?",
                    options: ["Competition", "Community Service", "Fundraising", "Recruitment"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Professional Development is one of the POW areas. What does it focus on?",
                    options: ["Winning contests", "Building career-ready skills", "Raising money", "Social media"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Which POW area involves representing SkillsUSA to others?",
                    options: ["Community Service", "Public Relations", "Social Activities", "Professional Development"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "The Ways and Means POW area focuses on:",
                    options: ["Leadership training", "Fundraising and financial planning", "Community projects", "Competition preparation"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Which POW area emphasizes giving back to the community?",
                    options: ["Professional Development", "Community Service", "Ways and Means", "Employment"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Social Activities is a POW area that focuses on:",
                    options: ["Building chapter unity and teamwork", "Online presence", "Job shadowing", "Competition prep"],
                    correct: 0,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Which POW area helps students prepare for careers?",
                    options: ["Ways and Means", "Social Activities", "Employment", "Public Relations"],
                    correct: 2,
                    category: "Program of Work (POW)"
                },
                {
                    question: "A chapter's POW should be developed:",
                    options: ["By the advisor only", "By officers and members together", "By national headquarters", "By the school principal"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "Which statement about POW is true?",
                    options: ["It's optional for chapters", "It should include all six areas", "Only state officers need it", "It focuses only on competitions"],
                    correct: 1,
                    category: "Program of Work (POW)"
                },
                {
                    question: "The POW should be evaluated:",
                    options: ["Never", "Only at nationals", "Throughout the year", "Every five years"],
                    correct: 2,
                    category: "Program of Work (POW)"
                },

                // Interviewing Practices Questions
                {
                    question: "How early should you arrive for an interview?",
                    options: ["Right on time", "5-10 minutes early", "15-20 minutes early", "30 minutes early"],
                    correct: 1,
                    category: "Interviewing"
                },
                {
                    question: "What type of handshake is best for interviews?",
                    options: ["Weak and brief", "Firm and confident", "Aggressive grip", "Two-handed shake"],
                    correct: 1,
                    category: "Interviewing"
                },
                {
                    question: "How should you dress for a professional interview?",
                    options: ["Casual comfortable clothes", "Business professional attire", "Whatever you wear daily", "Formal evening wear"],
                    correct: 1,
                    category: "Interviewing"
                },
                {
                    question: "What should you bring to an interview?",
                    options: ["Nothing", "Only your phone", "Copies of resume, pen, notepad", "Your lunch"],
                    correct: 2,
                    category: "Interviewing"
                },
                {
                    question: "What does the STAR method stand for in interview responses?",
                    options: ["Skill, Task, Action, Result", "Situation, Task, Action, Result", "Start, Talk, Answer, Respond", "Story, Talent, Answer, Resolve"],
                    correct: 1,
                    category: "Interviewing"
                },
                {
                    question: "When should you send a thank-you note after an interview?",
                    options: ["Within 24 hours", "After one week", "Only if you get the job", "Never necessary"],
                    correct: 0,
                    category: "Interviewing"
                },
                {
                    question: "What is appropriate body language during an interview?",
                    options: ["Crossed arms", "Slouching", "Sit up straight, lean slightly forward", "Fidgeting constantly"],
                    correct: 2,
                    category: "Interviewing"
                },

                // SkillsUSA History and Facts
                {
                    question: "What year was SkillsUSA founded?",
                    options: ["1965", "1972", "1985", "1990"],
                    correct: 0,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What was SkillsUSA originally called?",
                    options: ["Vocational Industrial Clubs of America (VICA)", "Trade Skills Association", "Career Technical Student Organization", "American Vocational League"],
                    correct: 0,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What are the official SkillsUSA colors?",
                    options: ["Blue and Gold", "Red, White, and Blue", "Red and Gold", "Blue and Silver"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What does the color red represent in SkillsUSA?",
                    options: ["Technology", "The individual", "Passion", "National organization"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What does the color white represent in SkillsUSA?",
                    options: ["Technology", "The individual", "Purity", "Employers"],
                    correct: 0,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What does the color blue represent in SkillsUSA?",
                    options: ["The sky", "Technology", "The ocean", "The individual"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What is the SkillsUSA motto?",
                    options: ["Excellence in Action", "Champions at Work", "Career Ready", "Skills for Success"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "How many career clusters does SkillsUSA serve?",
                    options: ["8", "12", "16", "20"],
                    correct: 2,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What is the highest level of SkillsUSA competition?",
                    options: ["State", "National Leadership and Skills Conference (NLSC)", "Regional", "International"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "Where is SkillsUSA headquarters located?",
                    options: ["Washington D.C.", "Leesburg, Virginia", "New York City", "Atlanta, Georgia"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What does CTE stand for?",
                    options: ["Career and Technical Education", "Certified Technology Expert", "Central Training Environment", "Competition Training Events"],
                    correct: 0,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "What is the official SkillsUSA uniform?",
                    options: ["Jeans and t-shirt", "Red blazer, white shirt, black pants/skirt, black shoes", "Casual Friday attire", "Suit and tie only"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "When should the official SkillsUSA attire be worn?",
                    options: ["Never", "At opening sessions, competitions, and official functions", "Only for photos", "Every day"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                },
                {
                    question: "The official SkillsUSA blazer is what color?",
                    options: ["Blue", "Red", "Black", "White"],
                    correct: 1,
                    category: "SkillsUSA Facts"
                }
            ];

            const getRandomQuestions = () => {
                const shuffled = [...allQuestions].sort(() => Math.random() - 0.5);
                return shuffled.slice(0, 15);
            };

            const [triviaQuestions, setTriviaQuestions] = useState(() => getRandomQuestions());

            useEffect(() => {
                loadLeaderboard();
            }, []);

            const loadLeaderboard = () => {
                setIsLoadingLeaderboard(true);
                try {
                    const result = storage.list('leaderboard:');
                    if (result && result.keys) {
                        const scores = result.keys.map(key => {
                            const data = storage.get(key);
                            return data ? JSON.parse(data.value) : null;
                        }).filter(s => s !== null);
                        
                        scores.sort((a, b) => b.score - a.score);
                        setLeaderboardData(scores.slice(0, 10));
                    }
                } catch (error) {
                    console.log('No leaderboard data yet');
                    setLeaderboardData([]);
                }
                setIsLoadingLeaderboard(false);
            };

            const saveScore = (name, finalScore) => {
                try {
                    const timestamp = Date.now();
                    const scoreData = {
                        name: name,
                        score: finalScore,
                        total: triviaQuestions.length,
                        percentage: Math.round((finalScore / triviaQuestions.length) * 100),
                        date: new Date().toLocaleDateString(),
                        timestamp: timestamp
                    };
                    
                    storage.set(`leaderboard:${timestamp}`, JSON.stringify(scoreData));
                    loadLeaderboard();
                } catch (error) {
                    console.error('Error saving score:', error);
                }
            };

            const handleAnswerClick = (index) => {
                if (showResult) return;
                
                setSelectedAnswer(index);
                setShowResult(true);
                
                if (index === triviaQuestions[currentQuestion].correct) {
                    setScore(score + 1);
                    setAnsweredCorrectly(true);
                } else {
                    setAnsweredCorrectly(false);
                }
            };

            const handleNextQuestion = () => {
                if (currentQuestion + 1 < triviaQuestions.length) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowResult(false);
                    setAnsweredCorrectly(false);
                } else {
                    setGameOver(true);
                }
            };

            const restartGame = () => {
                setCurrentQuestion(0);
                setScore(0);
                setShowResult(false);
                setSelectedAnswer(null);
                setGameOver(false);
                setAnsweredCorrectly(false);
                setTriviaQuestions(getRandomQuestions());
                setShowNameInput(false);
                setShowLeaderboard(false);
                loadLeaderboard();
            };

            const getScoreMessage = () => {
                const percentage = (score / triviaQuestions.length) * 100;
                if (percentage === 100) return "Perfect Score! You're a SkillsUSA Champion! ðŸ†";
                if (percentage >= 80) return "Excellent! You really know your SkillsUSA! ðŸŒŸ";
                if (percentage >= 60) return "Great job! Keep learning about SkillsUSA! ðŸ‘";
                if (percentage >= 40) return "Good effort! Review SkillsUSA materials to improve! ðŸ“š";
                return "Keep studying! There's more to learn about SkillsUSA! ðŸ’ª";
            };

            if (gameOver) {
                const categoryStats = {};
                triviaQuestions.forEach((q) => {
                    if (!categoryStats[q.category]) {
                        categoryStats[q.category] = { total: 0 };
                    }
                    categoryStats[q.category].total++;
                });

                if (showLeaderboard) {
                    return (
                        <div className="min-h-screen bg-gradient-to-br from-blue-600 via-red-600 to-blue-700 flex items-center justify-center p-4">
                            <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full">
                                <div className="text-center mb-6">
                                    <Trophy className="w-16 h-16 mx-auto text-yellow-500 mb-3" />
                                    <h1 className="text-4xl font-bold text-gray-800 mb-2">Leaderboard</h1>
                                    <p className="text-gray-600">Top 10 Scores</p>
                                </div>

                                {isLoadingLeaderboard ? (
                                    <div className="text-center py-8">
                                        <p className="text-gray-600">Loading leaderboard...</p>
                                    </div>
                                ) : leaderboardData.length === 0 ? (
                                    <div className="text-center py-8">
                                        <p className="text-gray-600">No scores yet. Be the first to compete!</p>
                                    </div>
                                ) : (
                                    <div className="space-y-3 mb-6">
                                        {leaderboardData.map((entry, index) => (
                                            <div
                                                key={entry.timestamp}
                                                className={`flex items-center justify-between p-4 rounded-lg ${
                                                    index === 0
                                                        ? 'bg-gradient-to-r from-yellow-100 to-yellow-50 border-2 border-yellow-400'
                                                        : index === 1
                                                        ? 'bg-gradient-to-r from-gray-100 to-gray-50 border-2 border-gray-400'
                                                        : index === 2
                                                        ? 'bg-gradient-to-r from-orange-100 to-orange-50 border-2 border-orange-400'
                                                        : 'bg-gray-50 border-2 border-gray-200'
                                                }`}
                                            >
                                                <div className="flex items-center gap-4">
                                                    <div className="text-2xl font-bold text-gray-700 w-8">
                                                        {index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `#${index + 1}`}
                                                    </div>
                                                    <div>
                                                        <p className="font-bold text-gray-800">{entry.name}</p>
                                                        <p className="text-sm text-gray-600">{entry.date}</p>
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                    <p className="text-2xl font-bold text-blue-600">
                                                        {entry.score}/{entry.total}
                                                    </p>
                                                    <p className="text-sm text-gray-600">{entry.percentage}%</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}

                                <div className="flex gap-3">
                                    <button
                                        onClick={restartGame}
                                        className="flex-1 bg-gradient-to-r from-blue-600 to-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center gap-2"
                                    >
                                        <RotateCcw className="w-5 h-5" />
                                        New Test
                                    </button>
                                    <button
                                        onClick={() => setShowLeaderboard(false)}
                                        className="flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all"
                                    >
                                        Back to Results
                                    </button>
                                </div>
                            </div>
                        </div>
                    );
                }

                if (showNameInput) {
                    const handleSubmit = (e) => {
                        e.preventDefault();
                        if (playerName.trim()) {
                            saveScore(playerName.trim(), score);
                            setShowNameInput(false);
                            setShowLeaderboard(true);
                        }
                    };

                    return (
                        <div className="min-h-screen bg-gradient-to-br from-blue-600 via-red-600 to-blue-700 flex items-center justify-center p-4">
                            <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center">
                                <Trophy className="w-20 h-20 mx-auto text-yellow-500 mb-4" />
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Great Job!</h2>
                                <p className="text-xl text-gray-700 mb-6">
                                    You scored {score}/{triviaQuestions.length} ({Math.round((score / triviaQuestions.length) * 100)}%)
                                </p>
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <div>
                                        <label className="block text-left text-sm font-semibold text-gray-700 mb-2">
                                            Enter your name for the leaderboard:
                                        </label>
                                        <input
                                            type="text"
                                            value={playerName}
                                            onChange={(e) => setPlayerName(e.target.value)}
                                            placeholder="Your name"
                                            maxLength={20}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-lg"
                                            autoFocus
                                        />
                                    </div>
                                    <button
                                        type="submit"
                                        disabled={!playerName.trim()}
                                        className="w-full bg-gradient-to-r from-blue-600 to-red-600 text-white px-6 py-3 rounded-lg text-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
                                    >
                                        Submit Score
                                    </button>
                                    <button
                                        type="button"
                                        onClick={restartGame}
                                        className="w-full bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-all"
                                    >
                                        Skip & Start New Test
                                    </button>
                                </form>
                            </div>
                        </div>
                    );
                }

                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-600 via-red-600 to-blue-700 flex items-center justify-center p-4">
                        <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full text-center">
                            <Trophy className="w-24 h-24 mx-auto text-yellow-500 mb-4" />
                            <h1 className="text-4xl font-bold text-gray-800 mb-4">Test Complete!</h1>
                            <div className="bg-blue-50 rounded-lg p-6 mb-6">
                                <p className="text-6xl font-bold text-blue-600 mb-2">{score}/{triviaQuestions.length}</p>
                                <p className="text-xl text-gray-700 mb-4">{getScoreMessage()}</p>
                                <div className="text-left mt-4 space-y-2">
                                    <p className="text-sm font-semibold text-gray-700 mb-2">Questions covered:</p>
                                    {Object.entries(categoryStats).map(([category, stats]) => (
                                        <div key={category} className="flex justify-between text-sm text-gray-600 bg-white px-3 py-1 rounded">
                                            <span>{category}</span>
                                            <span className="font-semibold">{stats.total} {stats.total === 1 ? 'question' : 'questions'}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="space-y-3">
                                <button
                                    onClick={() => setShowNameInput(true)}
                                    className="w-full bg-gradient-to-r from-blue-600 to-red-600 text-white px-8 py-4 rounded-lg text-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all"
                                >
                                    Save to Leaderboard
                                </button>
                                <button
                                    onClick={() => setShowLeaderboard(true)}
                                    className="w-full bg-yellow-500 text-white px-8 py-4 rounded-lg text-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all"
                                >
                                    View Leaderboard
                                </button>
                                <button
                                    onClick={restartGame}
                                    className="w-full bg-gray-600 text-white px-8 py-4 rounded-lg text-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all flex items-center gap-2 justify-center"
                                >
                                    <RotateCcw className="w-6 h-6" />
                                    Take New Test (15 Random Questions)
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            const question = triviaQuestions[currentQuestion];

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-600 via-red-600 to-blue-700 flex items-center justify-center p-4">
                    <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-3xl w-full">
                        <div className="flex items-center justify-between mb-6">
                            <div className="flex items-center gap-3">
                                <Award className="w-10 h-10 text-blue-600" />
                                <h1 className="text-3xl font-bold text-gray-800">SkillsUSA Trivia</h1>
                            </div>
                            <div className="flex items-center gap-4">
                                <button
                                    onClick={() => {
                                        setGameOver(true);
                                        setShowLeaderboard(true);
                                    }}
                                    className="bg-yellow-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-yellow-600 transition-all flex items-center gap-2"
                                >
                                    <Trophy className="w-5 h-5" />
                                    <span className="hidden sm:inline">Leaderboard</span>
                                </button>
                                <div className="text-right">
                                    <p className="text-sm text-gray-600">Score</p>
                                    <p className="text-2xl font-bold text-blue-600">{score}/{triviaQuestions.length}</p>
                                </div>
                            </div>
                        </div>

                        <div className="mb-6">
                            <div className="flex justify-between text-sm text-gray-600 mb-2">
                                <span>Question {currentQuestion + 1} of {triviaQuestions.length}</span>
                                <span className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold">
                                    {question.category}
                                </span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3">
                                <div 
                                    className="bg-gradient-to-r from-blue-600 to-red-600 h-3 rounded-full transition-all duration-500"
                                    style={{ width: `${((currentQuestion + 1) / triviaQuestions.length) * 100}%` }}
                                />
                            </div>
                        </div>

                        <div className="mb-8">
                            <h2 className="text-2xl font-semibold text-gray-800 mb-6">
                                {question.question}
                            </h2>

                            <div className="space-y-3">
                                {question.options.map((option, index) => {
                                    const isCorrect = index === question.correct;
                                    const isSelected = selectedAnswer === index;
                                    
                                    let buttonClass = "w-full text-left p-4 rounded-lg border-2 transition-all ";
                                    
                                    if (!showResult) {
                                        buttonClass += "border-gray-300 hover:border-blue-500 hover:bg-blue-50 cursor-pointer";
                                    } else {
                                        if (isCorrect) {
                                            buttonClass += "border-green-500 bg-green-50";
                                        } else if (isSelected && !isCorrect) {
                                            buttonClass += "border-red-500 bg-red-50";
                                        } else {
                                            buttonClass += "border-gray-300 bg-gray-50";
                                        }
                                    }

                                    return (
                                        <button
                                            key={index}
                                            onClick={() => handleAnswerClick(index)}
                                            disabled={showResult}
                                            className={buttonClass}
                                        >
                                            <div className="flex items-center justify-between">
                                                <span className="text-lg font-medium text-gray-800">{option}</span>
                                                {showResult && isCorrect && (
                                                    <CheckCircle className="w-6 h-6 text-green-600" />
                                                )}
                                                {showResult && isSelected && !isCorrect && (
                                                    <XCircle className="w-6 h-6 text-red-600" />
                                                )}
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {showResult && (
                            <div className="mb-6">
                                {answeredCorrectly ? (
                                    <div className="bg-green-50 border-2 border-green-500 rounded-lg p-4 flex items-center gap-3">
                                        <CheckCircle className="w-8 h-8 text-green-600 flex-shrink-0" />
                                        <div>
                                            <p className="font-semibold text-green-800 text-lg">Correct!</p>
                                            <p className="text-green-700">Great job! You got it right!</p>
                                        </div>
                                    </div>
                                ) : (
                                    <div className="bg-red-50 border-2 border-red-500 rounded-lg p-4 flex items-center gap-3">
                                        <XCircle className="w-8 h-8 text-red-600 flex-shrink-0" />
                                        <div>
                                            <p className="font-semibold text-red-800 text-lg">Incorrect</p>
                                            <p className="text-red-700">
                                                The correct answer is: <strong>{question.options[question.correct]}</strong>
                                            </p>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {showResult && (
                            <button
                                onClick={handleNextQuestion}
                                className="w-full bg-gradient-to-r from-blue-600 to-red-600 text-white py-4 rounded-lg text-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all"
                            >
                                {currentQuestion + 1 === triviaQuestions.length ? "See Results" : "Next Question"}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SkillsUSATrivia />);
    </script>
</body>
</html>
